(this["webpackJsonpgoit-react-hw-09-phonebook"]=this["webpackJsonpgoit-react-hw-09-phonebook"]||[]).push([[3],{100:function(t,e,n){"use strict";n.r(e),n.d(e,"default",(function(){return W}));var c=n(0),a=n(101),i=n(11),r=n(92),o=n.n(r),s=n(18),u=n.n(s),b=n(9);u.a.defaults.baseURL="https://goit-phonebook-api.herokuapp.com";var l=n(29),j=function(t){return t.contacts},_=function(t){return j(t).items},m=function(t){return j(t).filter},O=Object(l.a)([_,m],(function(t,e){var n=e.toLowerCase();return t.filter((function(t){return t.name.toLowerCase().includes(n)}))})),f={getContacts:j,getContactsItems:_,getLoading:function(t){return j(t).loading},getFilterValue:m,getVisibleContacts:O},x=n(87),p=n(102),h=n(93),d=n.n(h),v=n(1),C=function(t){var e=t.name;return Object(v.jsx)("div",{className:d.a.warningContainer,children:Object(v.jsx)("p",{children:"".concat(e," is already is contact")})})},g=n(94),N=n.n(g),A=function(){var t=Object(i.b)(),e=Object(i.c)(f.getContacts),n=Object(c.useState)(""),r=Object(x.a)(n,2),o=r[0],s=r[1],l=Object(c.useState)(""),j=Object(x.a)(l,2),_=j[0],m=j[1],O=Object(c.useState)(!1),h=Object(x.a)(O,2),d=h[0],g=h[1],A=function(){s(""),m("")};return Object(v.jsxs)("div",{className:N.a.formContainer,children:[Object(v.jsx)(a.a,{in:d,timeout:250,classNames:N.a,unmountOnExit:!0,children:Object(v.jsx)(C,{name:o})}),Object(v.jsxs)("form",{onSubmit:function(n){n.preventDefault();var c,a=e.items,i={id:Object(p.a)(),name:o,number:_};""!==o&&""!==_&&(a.find((function(t){return o===t.name}))?g(!0):(g(!1),t((c=i,function(t){t(Object(b.b)()),u.a.post("/contacts",c).then((function(e){var n=e.data;return t(Object(b.c)(n))})).catch((function(e){return t(Object(b.a)(e))}))})),A()))},className:N.a.form,children:[Object(v.jsxs)("label",{className:N.a.label,children:["Name",Object(v.jsx)("input",{className:N.a.input,type:"text",name:"name",value:o,onChange:function(t){var e=t.target.value;s(e)}})]}),Object(v.jsxs)("label",{className:N.a.label,children:["Number",Object(v.jsx)("input",{className:N.a.input,type:"tel",name:"number",value:_,onChange:function(t){var e=t.target.value;m(e)}})]}),Object(v.jsx)("button",{className:N.a.button,type:"submit",children:"Add contact"})]})]})},F=n(103),w=n(95),L=n.n(w),k=function(){var t=Object(i.c)(f.getContactsItems),e=Object(i.c)(f.getVisibleContacts),n=Object(i.b)();if(0===t.length)return null;return Object(v.jsx)(F.a,{component:"ul",children:e.map((function(t){var e=t.id,c=t.name,i=t.number;return""===c||""===i?null:Object(v.jsx)(a.a,{timeout:250,classNames:L.a,children:Object(v.jsxs)("li",{className:L.a.item,children:[c,": ",i,Object(v.jsx)("button",{className:L.a.button,type:"button",id:e,onClick:function(){return n(function(t){return function(e){e(Object(b.e)()),u.a.delete("/contacts/".concat(t)).then((function(){return e(Object(b.f)(t))})).catch((function(t){return e(Object(b.d)(t))}))}}(e))},children:"Delete"})," "]})},e)}))})},E=n(96),y=n.n(E),S=function(){var t=Object(i.c)(f.getFilterValue),e=Object(i.b)();return Object(v.jsx)(v.Fragment,{children:Object(v.jsxs)("label",{className:y.a.label,children:["Find contact by name",Object(v.jsx)("input",{className:y.a.input,type:"text",name:"filter",value:t,onChange:function(t){return e(Object(b.j)(t.target.value))}})]})})},W=function(){var t=Object(i.c)(f.getContactsItems),e=Object(i.c)(f.getLoading),n=Object(i.b)();return Object(c.useEffect)((function(){return n((function(t){t(Object(b.h)()),u.a.get("/contacts").then((function(e){var n=e.data;return t(Object(b.i)(n))})).catch((function(e){return t(Object(b.g)(e))}))}))}),[]),Object(v.jsxs)("div",{className:o.a.container,children:[Object(v.jsx)(a.a,{in:!0,appear:!0,classNames:o.a,timeout:500,unmountOnExit:!0,children:Object(v.jsx)("h1",{children:"Phonebook"})}),Object(v.jsx)(A,{}),e&&Object(v.jsx)("p",{children:"Loading..."}),Object(v.jsx)(a.a,{in:t.length>0,timeout:250,classNames:o.a,unmountOnExit:!0,children:Object(v.jsxs)("div",{children:[Object(v.jsx)("h2",{children:"Contacts"}),Object(v.jsx)(S,{}),Object(v.jsx)(k,{})]})})]})}},92:function(t,e,n){t.exports={container:"Contacts_container__2tlNv",enter:"Contacts_enter__SuA2h",enterActive:"Contacts_enterActive__3us5-",exit:"Contacts_exit__3mq0a",exitActive:"Contacts_exitActive__3xzv0",appear:"Contacts_appear__2daP2",appearActive:"Contacts_appearActive__3rtPW"}},93:function(t,e,n){t.exports={warningContainer:"Warning_warningContainer__3wWE5"}},94:function(t,e,n){t.exports={form:"ContactForm_form__H6gT_",input:"ContactForm_input__1xEiE",label:"ContactForm_label__2fK-d",button:"ContactForm_button__3Jn5X",formContainer:"ContactForm_formContainer__3sMXJ",enter:"ContactForm_enter__T8Yvv",enterActive:"ContactForm_enterActive__3Dc3D",exit:"ContactForm_exit__3wC1l",exitActive:"ContactForm_exitActive__uOMrw"}},95:function(t,e,n){t.exports={button:"ContactList_button__3pxM4",item:"ContactList_item__1hqb0",enter:"ContactList_enter__z0f1M",enterActive:"ContactList_enterActive__1W9U_",exit:"ContactList_exit__2nlnR",exitActive:"ContactList_exitActive__1vWpE"}},96:function(t,e,n){t.exports={label:"Filter_label__1Tn1Z",input:"Filter_input__3UZ69"}}}]);
//# sourceMappingURL=3.0719fc63.chunk.js.map